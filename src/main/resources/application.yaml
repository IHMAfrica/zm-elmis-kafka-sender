spring:
  application:
    name: elmis-kafka-sender
  r2dbc:
    url: r2dbc:mssql://${DB_HOST}:${DB_PORT}/${DB_NAME}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
    pool:
      initial-size: 5
      max-size: 20
      max-idle-time: 30m

  kafka:
    bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVERS}
    jaas-config: ${KAFKA_JAAS_CONFIG}
    producer:
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.apache.kafka.common.serialization.StringSerializer
      acks: 1
      retries: 10

elmis:
  polling:
    interval-ms: 500
    idle-interval-ms: 2000
    batch-size: 100
  topics:
    prescriptions: ${PRESCRIPTIONS_TOPIC}
    patient-profiles: ${PATIENT_PROFILES_TOPIC}

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  endpoint:
    health:
      show-details: always

logging:
  level:
    zm.gov.moh.elmiskafkasender: DEBUG
    org.springframework.kafka: INFO
    io.r2dbc.mssql: INFO